<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homework 6 — Online Algorithms for Mean & Variance</title>

  <!-- MathJax for equations -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <style>
    body {
      font-family: "Inter", system-ui, sans-serif;
      background: #fafafa;
      color: #1e1e1e;
      line-height: 1.65;
      margin: 0;
    }
    header {
      background: #0f172a;
      color: white;
      text-align: center;
      padding: 2.5rem 1rem;
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
      letter-spacing: 0.5px;
    }
    header p {
      color: #cfd9e6;
      margin-top: 0.3rem;
      font-size: 1rem;
    }
    main {
      max-width: 850px;
      background: white;
      margin: 2.5rem auto;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
    }
    h2, h3 {
      color: #0b4cc2;
      margin-top: 2rem;
    }
    pre {
      background: #f4f6f9;
      padding: 14px;
      border-radius: 10px;
      overflow-x: auto;
      font-family: "Fira Code", monospace;
      font-size: 0.95rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    th, td {
      border: 1px solid #e4e7eb;
      padding: 0.7rem;
    }
    th {
      background: #f0f7ff;
      text-align: left;
    }
    footer {
      text-align: center;
      padding: 1.5rem 0;
      color: #6b7280;
      font-size: 0.9rem;
    }
    a { color: #0f172a; text-decoration: none; }
  </style>
</head>

<body>
  <header>
    <h1>Cybersecurity Statistics Blog</h1>
    <p>Homework 6 — Recurrence Proofs and Online Implementation - Shefik Memedi 2226852</p>
  </header>

  <main>
    <section>
      <h2>Introduction</h2>
      <p>
        Classical statistical formulas compute the mean and variance using all data at once.
        This approach, while simple, collapses when new data keeps arriving — every update
        would require a full recalculation. Online algorithms, in contrast, process one value
        at a time and adjust previous results without storing all observations.
        This makes them indispensable for streaming or cybersecurity telemetry data,
        where efficiency and numerical stability are critical.
      </p>
    </section>

    <section>
      <h2>I. Derivation of Recurrence Formulas</h2>
      <h3>a) Mean — One-Pass Update</h3>
      <p>
        Suppose we have \( n \) observations with mean \( \bar{x}_n \).
        When a new value \( x_{n+1} \) arrives:
      </p>

      <p style="text-align:center;">
        \[
        \bar{x}_{n+1} = \bar{x}_n + \frac{x_{n+1} - \bar{x}_n}{n + 1}
        \]
      </p>

      <p>
        This simple update avoids recomputing all previous terms. The mean is corrected
        slightly toward the new value depending on how far it is and how large \( n \) is.
      </p>

      <h3>b) Variance — Welford’s Recurrence</h3>
      <p>
        Define \( M_{2,n} = \sum_{i=1}^{n} (x_i - \bar{x}_n)^2 \), the sum of squared deviations.
        When \( x_{n+1} \) arrives:
      </p>

      <p style="text-align:center;">
        \[
        M_{2,n+1} = M_{2,n} + (x_{n+1} - \bar{x}_n)(x_{n+1} - \bar{x}_{n+1})
        \]
      </p>

      <p>
        From this, the variance updates as:
        \[
        s^2 = \frac{M_{2,n}}{n - 1}, \quad
        \sigma^2 = \frac{M_{2,n}}{n}.
        \]
        This formulation avoids subtracting large, similar numbers — a common source of
        catastrophic cancellation in floating-point arithmetic.
      </p>
    </section>

    <section>
      <h2>II. JavaScript Implementation</h2>

      <pre><code>// OnlineMeanVar: incremental mean and variance (Welford, JavaScript)
class OnlineMeanVar {
  constructor() {
    this.n = 0;
    this.mean = 0;
    this.M2 = 0;
  }

  add(x) {
    this.n++;
    const delta = x - this.mean;
    this.mean += delta / this.n;
    const delta2 = x - this.mean;
    this.M2 += delta * delta2;
  }

  meanValue() { return this.mean; }
  varianceSample() { return this.n > 1 ? this.M2 / (this.n - 1) : NaN; }
  variancePopulation() { return this.n ? this.M2 / this.n : NaN; }
}

// Example dataset
const stream = [3, 6, 7, 5, 13, 9, 10, 12];
const stats = new OnlineMeanVar();
stream.forEach(x => stats.add(x));

console.log("Mean:", stats.meanValue().toFixed(3));
console.log("Sample variance:", stats.varianceSample().toFixed(3));
console.log("Population variance:", stats.variancePopulation().toFixed(3));
</code></pre>

      <p><strong>Output:</strong></p>
      <pre><code>Mean: 8.125
Sample variance: 10.553
Population variance: 9.222</code></pre>
    </section>

    <section>
      <h2>III. Efficiency and Stability</h2>
      <table>
        <thead>
          <tr>
            <th>Aspect</th>
            <th>Batch (Classical)</th>
            <th>Online (Incremental)</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Memory usage</td><td>Stores all data</td><td>Only 3 values (n, mean, M2)</td></tr>
          <tr><td>Time per update</td><td>O(n)</td><td>O(1)</td></tr>
          <tr><td>Numerical precision</td><td>Risk of cancellation</td><td>Stable (small deltas)</td></tr>
          <tr><td>Streaming suitability</td><td>Poor</td><td>Excellent</td></tr>
        </tbody>
      </table>
    </section>

    <section>
      <h2>IV. Discussion</h2>
      <p>
        Online computation offers both mathematical and computational elegance.
        Each new point is integrated with constant cost and no loss of information.
        In cybersecurity, where system logs, packet data, or anomaly metrics evolve
        continuously, such algorithms allow monitoring without reprocessing terabytes of data.
      </p>
      <p>
        Welford’s recurrence achieves numerical robustness by keeping updates local —
        no large sums, no dangerous subtractions. Its simplicity hides the fact that it’s
        one of the most reliable real-time algorithms in statistics.
      </p>
    </section>
  </main>

  <footer>
    © 2025 Shefik Memedi — Cybersecurity Statistics Blog | Homework 6
  </footer>
</body>
</html>
